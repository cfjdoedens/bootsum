<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Schat omvang in geld van massa aan de hand van een postensteekproef • bootsum</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Schat omvang in geld van massa aan de hand van een postensteekproef">
<meta name="description" content="Schat omvang van een geldmassa aan de hand van een postensteekproef uit deze massa. Schatting is gebaseerd op bootstrapping, BCA-methode. Deze methode is dus non-parametrisch, en gebruikt geen aannames over de kansverdeling, zoals normaliteit.">
<meta property="og:description" content="Schat omvang van een geldmassa aan de hand van een postensteekproef uit deze massa. Schatting is gebaseerd op bootstrapping, BCA-methode. Deze methode is dus non-parametrisch, en gebruikt geen aannames over de kansverdeling, zoals normaliteit.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">bootsum</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cfjdoedens/drawsneeded/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="bootsum">bootsum<a class="anchor" aria-label="anchor" href="#bootsum"></a>
</h1></div>
<div class="section level2">
<h2 id="inleiding">Inleiding<a class="anchor" aria-label="anchor" href="#inleiding"></a>
</h2>
<p>Package bootsum is bedoeld voor een auditcontext. Het maakt het mogelijk een schatting, gebaseerd op een postensteekproef, te maken van de totale omvang van geldposten die zowel te hoog als te laag kunnen zijn geadministreerd. Daarbij berekent het direct een betrouwbare minimum- en maximumgrens met een door de auditor gewenste zekerheid (bijvoorbeeld 95%).</p>
</div>
<div class="section level2">
<h2 id="installatie">Installatie<a class="anchor" aria-label="anchor" href="#installatie"></a>
</h2>
<p>Je kunt de ontwikkelversie van bootsum installeren van <a href="https://github.com/" class="external-link">GitHub</a> als:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"devtools"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"cfjdoedens/bootsum"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="de-functie-bootsum">De functie: bootsum()<a class="anchor" aria-label="anchor" href="#de-functie-bootsum"></a>
</h2>
<p>De functie bootsum() berekent en visualiseert de geschatte totale waarde van een financiële populatie (massa) op basis van een steekproef.</p>
<p>Hierbij wordt gebruikgemaakt van de BCa-methode (Bias-Corrected and accelerated bootstrap) via het boot package. Deze methode is zeer geschikt voor financiële data, omdat het automatisch corrigeert voor scheefheid (skewness) in de verdeling van de steekproef. De functie geeft direct de keiharde minimum- en maximumgrenzen terug, zonder verwarrend statistisch jargon.</p>
<div class="section level3">
<h3 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h3>
<p>De functie vereist minimaal de volgende twee argumenten:</p>
<ul>
<li>v: Een numerieke vector met uitsluitend positieve waarden (jouw getrokken steekproef van posten).</li>
<li>N: Het totale aantal posten in de volledige massa (populatie) waaruit de steekproef is getrokken.</li>
</ul>
<p>Daarnaast zijn er twee optionele argumenten:</p>
<ul>
<li>certainty: Het gewenste zekerheidspercentage voor de minimum- en maximumgrens (standaard 0,95, oftewel 95%).</li>
<li>b: Het aantal bootstrap-iteraties (standaard 100000). Voor snelle tests kun je dit verlagen, maar voor definitieve rapportages wordt de standaardwaarde aanbevolen.</li>
</ul>
</div>
<div class="section level3">
<h3 id="voorbeeldgebruik">Voorbeeldgebruik<a class="anchor" aria-label="anchor" href="#voorbeeldgebruik"></a>
</h3>
<p>Hier is een voorbeeld van hoe je de functie in de praktijk gebruikt bij de controle van een populatie facturen.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fictieve steekproef van 15 gecontroleerde posten (bijv. factuurwaarden in euro's)</span></span>
<span><span class="va">steekproef</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">120.50</span>, <span class="fl">305.00</span>, <span class="fl">45.20</span>, <span class="fl">99.99</span>, <span class="fl">1050.00</span>, </span>
<span>                <span class="fl">23.45</span>, <span class="fl">88.00</span>, <span class="fl">500.00</span>, <span class="fl">210.00</span>, <span class="fl">340.00</span>, </span>
<span>                <span class="fl">75.00</span>, <span class="fl">115.00</span>, <span class="fl">890.00</span>, <span class="fl">42.10</span>, <span class="fl">310.00</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># De totale populatie (massa) bestaat in dit voorbeeld uit 1.500 posten</span></span>
<span><span class="va">populatie_grootte</span> <span class="op">&lt;-</span> <span class="fl">1500</span></span>
<span></span>
<span><span class="co"># Voer de bootstrap analyse uit. </span></span>
<span><span class="co"># Let op: Voor deze README knitr-render gebruiken we tijdelijk b = 5000 iteraties </span></span>
<span><span class="co"># zodat het bouwen van de documentatie snel gaat. </span></span>
<span><span class="co"># Voor een echte audit gebruik je idealiter de standaard (b = 100000).</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span> <span class="co"># Seed instellen voor een reproduceerbare plot in deze README</span></span>
<span><span class="va">resultaat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bootsum.html">bootsum</a></span><span class="op">(</span>v <span class="op">=</span> <span class="va">steekproef</span>, N <span class="op">=</span> <span class="va">populatie_grootte</span>, certainty <span class="op">=</span> <span class="fl">0.95</span>, b <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" alt="" width="100%"> Naast de overzichtelijke visualisatie, retourneert de functie op de achtergrond een lijst met de exacte wiskundige grenzen. Deze kun je opvragen door het resultaat te printen:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Bekijk de exacte berekende waarden</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resultaat</span><span class="op">)</span></span>
<span><span class="co">#&gt; $obs_est</span></span>
<span><span class="co">#&gt; [1] 421424</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $min_bound</span></span>
<span><span class="co">#&gt; [1] 270888.9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $max_bound</span></span>
<span><span class="co">#&gt; [1] 669229.9</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="toetsen-met-een-simulatie-op-een-bekende-verdeling">Toetsen met een simulatie op een bekende verdeling<a class="anchor" aria-label="anchor" href="#toetsen-met-een-simulatie-op-een-bekende-verdeling"></a>
</h3>
<p>Om de betrouwbaarheid van de methode te demonstreren, simuleren we hieronder een volledig bekende populatie. We genereren 10.000 posten die normaal verdeeld zijn rond de €100. Omdat we alle data hebben, weten we de échte totale waarde exact.</p>
<p>Vervolgens doen we alsof we een auditor zijn: we trekken blindelings een piepkleine steekproef van slechts 50 posten, en we vragen bootsum() om op basis daarvan de totale waarde te schatten, inclusief een minimum en maximum met 95% zekerheid.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Creëer de 'echte' populatie (10.000 posten, gemiddelde = 100)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">volledige_populatie</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span>, mean <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Bereken de werkelijke, geheime totale waarde</span></span>
<span><span class="va">echte_waarde</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">volledige_populatie</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. De Auditor trekt een willekeurige steekproef van slechts 50 posten</span></span>
<span><span class="va">steekproef_simulatie</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">volledige_populatie</span>, size <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Laat bootsum de massa schatten (b = 5000 voor snelheid)</span></span>
<span><span class="va">resultaat_simulatie</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bootsum.html">bootsum</a></span><span class="op">(</span>v <span class="op">=</span> <span class="va">steekproef_simulatie</span>, N <span class="op">=</span> <span class="fl">10000</span>, certainty <span class="op">=</span> <span class="fl">0.95</span>, b <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-exampletoets-1.png" alt="" width="100%"></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/cfjdoedens/drawsneeded/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/cfjdoedens/drawsneeded/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bootsum</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Crist-Jan Doedens <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Crist-Jan Doedens.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
